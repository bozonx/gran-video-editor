# Правила для ИИ-агентов (AI Agents Guidelines)

## 1. Общие принципы
- Общение с пользователем ведется на русском языке (включая планы и рассуждения).
- Код, коммиты, JSDoc, названия переменных и функций — на английском (кроме i18n).
- Пиши минималистичный, читаемый код. Следуй принципам DRY, SOLID.
- При обнаружении мелких проблем в рабочем файле (опечатки, форматирование) — исправляй их. О серьезных (уязвимости) — сообщай, но не исправляй без команды.

## 2. Код и Архитектура
- Предпочитай `interface` вместо `type` для объектов.
- Функции с 3 и более аргументами должны принимать объект параметров.
- Используй именованные экспорты (named exports) вместо экспортов по умолчанию.
- Выбирай наиболее распространенные, проверенные решения для конкретных задач.
- Не меняй схемы БД, не запускай миграции и не меняй API без явного запроса

## 3. Документация и Тесты
- Добавляй подробные комментарии только к сложным блокам; пропускай их для очевидных строк.
- Однострочные комментарии ставь строго над комментируемой строкой.
- При добавлении или изменении функционала обновляй соответствующие тесты и документацию (включая `README.md`).

## 4. Зависимости
- Используй только официальные, хорошо поддерживаемые библиотеки.
- Опирайся на последние стабильные версии и официальную документацию.
- Обязательно используй Context7 для генерации кода, настройки или получения документации по библиотекам/API.

## 5. Стек технологий
- **Фреймворк**: Nuxt 3 (Vue 3, Composition API, `<script setup>`)
- **Управление состоянием**: Pinia
- **Стилизация**: Tailwind CSS (v4)
- **Язык**: TypeScript
- **Тестирование**: Vitest (Unit), Playwright (E2E)
- **Линтинг и форматирование**: ESLint, Prettier

## 6. Специфичная структура проекта (`src/`)
В проекте используется кастомная директория `src/`. Помимо стандартных папок Nuxt (`components/`, `composables/`, `pages/`, `assets/`), присутствуют специфичные:
- `src/stores/` — хранилища Pinia (состояние приложения, воркспейса и др.).
- `src/utils/` — вспомогательные чистые функции, константы, настройки.
- `src/workers/` — Web Workers для тяжелых вычислений (например, ядро видео-редактора).
- `src/timeline/` — логика и компоненты, специфичные для таймлайна видеоредактора.
- `src/locales/` — файлы локализации (i18n).
